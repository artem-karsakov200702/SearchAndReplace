Отчёт по лабораторной работе

ФИО: Карсаков Артем Валериевич

Группа: ПРИ-0-25/1

Тема: Разработка консольного приложения для поиска и замены текста в JSON-файлах на C++

## 1. Краткое описание задачи и среды выполнения

**Задача:**
Разработать консольное приложение на C++, которое выполняет поиск и замену текста в JSON-файлах с объектами {name, content}. Поддержка массовой обработки файлов data_0.json...data_N.json, case-sensitive/insensitive режимы, генерация тестовых данных.

**Среда выполнения:**

Операционная система: Windows 11

IDE: Microsoft Visual Studio 2022

Компилятор: MSVC (C++17)

Библиотеки: nlohmann/json

## 2. Структура проекта и схема данных

**Структура проекта:**  
SearchAndReplace/   

/src/ # исходный код .cpp  

/include/ # заголовочные файлы .h/.hpp   

/tests # самотесты   

/docs/ # отчёт, план реализации, бенчмарки 

/data/ # примеры JSON   

/release/ # готовый .exe   

.gitignore     

README.md

**Мини-спецификация JSON:**
```json
[
  {
    "name": "file1.txt",
    "content": "текст с foo bar test"
  },
  {
    "name": "file2.txt",
    "content": "больше текста для поиска foo"
  }
]
```
name — имя текстового объекта
content — содержимое для поиска/замены

## 3. Описание ключевых алгоритмов
Парсинг JSON: извлечение объектов {name, content} из массива
Поиск текста: findAllPositions() — алгоритм string::find() с поддержкой case-insensitive
Замена текста: replaceAllOccurrences() — сбор результата по позициям с резервированием памяти
Масштабная обработка: автоматическое сканирование data_0.json...data_99999.json
Сохранение результатов: восстановление JSON-структуры с обновлённым content

## 4. Выдержки из интерфейсов функций и примеры использования
```json
vector<TextObject> extractTextObjects(const json& j);
vector<size_t> findAllPositions(const string& text, const string& pattern, bool case_sensitive);
string replaceAllOccurrences(const string& text, const string& from, const string& to, bool case_sensitive);
void saveObjectsToOriginalFiles(vector<TextObject>& objects);
```
Пример использования:
1) Генерация 1000 файлов с ошибками (y/n): n    
2) Режим (1=поиск, 2=замена): 2

   Файл: all
 
   Ищем: foo

   На: BAR

   Регистр (y/n): n
## 5. Обработка ошибок и UX взаимодействие
Ошибки JSON:

Некорректный JSON → пропуск файла с логированием

Отсутствие name/content → пропуск объекта

Пустые файлы [] → пропуск

UX: Интуитивное консольное меню:
1) Генерация JSON    
2) Поиск/замена  
3) Выход  [help/h]
Подробная справка через help, таблицы результатов, прогресс загрузки файлов.

## 6. Результаты тестов
Позитивные сценарии:

Корректный JSON → поиск/замена работает

all режим → обрабатывает 100 000+ файлов

Case-insensitive → Foo=foo корректно

Негативные сценарии:

Сломанный JSON → пропуск с логированием

Пустые объекты → корректная обработка

Не существующие файлы → автоопределение границ

## 7. Результаты бенчмарков
| Файлов проверено | Время анализа (сек) | Примечания          |
|------------------|---------------------|---------------------|
| 100              | 0.34                | Линейная зависимость|
| 1 000            | 3.21                | Линейная зависимость|
| 10 000           | 28.7                | Линейная зависимость|
| 100 000          | 287                 | ~4 мин 47 сек       |

Полный отчет: docs/benchReport.md' Report.md

## 8. Выводы и предложения по улучшению
Программа корректно работает с JSON различной степени корректности, выполняет эффективный поиск/замену текста.
Линейная зависимость времени обработки от количества файлов подтверждена бенчмарками.

Возможные улучшения в будущем:

Многопоточность — параллельная обработка файлов

Кэширование — сохранение спарсенных данных для повторных операций

